(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{8436:(e,t,a)=>{Promise.resolve().then(a.bind(a,5988))},5988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DashboardStatus:()=>G,default:()=>Z});var s=a(5155),l=a(7967),o=a(2115),n=a(7934),i=a(9271),r=a(3874);function c(e){let{comments:t=[]}=e;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-between border-b p-2",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-blue-700",children:"Comment"})}),(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2 p-2",children:t.length>0?t.map((e,t)=>(0,s.jsxs)(r.Z,{className:"p-3 border border-gray-200 hover:bg-gray-100 transition cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(e.userName),alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.userName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:(null==e?void 0:e.created_at)||"Just now"})]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:null==e?void 0:e.commentMessage})]},t)):(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"No Comment"})})]})}var d=a(2651),u=a(2818);let m=()=>localStorage.getItem("token"),x=async e=>{try{let t=m();return(await d.A.get("".concat(u.env.NEXT_PUBLIC_API_URL).concat(e?"apiDashboard/GetAllPostFromServices?lastFetchedDate=".concat(e):"apiDashboard/GetAllPostFromServices"),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){throw new e.message}},h=async e=>{try{let t=m();return await d.A.post("".concat(u.env.NEXT_PUBLIC_API_URL,"apiDashboard/InsertLike"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}},p=async e=>{try{let t=m();return await d.A.post("".concat(u.env.NEXT_PUBLIC_API_URL,"apiDashboard/commentAdd"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}},v=async e=>{try{let t=m();return await d.A.patch("".concat(u.env.NEXT_PUBLIC_API_URL,"apiDashboard/Updatepoll"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}},g=async e=>{try{let t=m();return await d.A.post("".concat(u.env.NEXT_PUBLIC_API_URL,"apiDashboard/InsertPost"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}},f=async e=>{try{let t=m();return await d.A.post("".concat(u.env.NEXT_PUBLIC_API_URL,"apiDashboard/InsertPost"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}};var b=a(3201);let y=e=>{let{PostId:t,PostUser:a,PostImageUrl:r,PostUserProfile:d,PostLike:u,PostComment:m,PostType:x,PostTitle:v,PostDescription:g,Postcreated_At:f}=e,{user:y}=(0,o.useContext)(b.c),[j,w]=(0,o.useState)({x:0,y:0}),[N,S]=(0,o.useState)(u),[D,k]=(0,o.useState)(m),[C,P]=(0,o.useState)(""),[I,A]=(0,o.useState)(!1),[T,_]=(0,o.useState)(!1),[L,U]=(0,o.useState)(!1),[z,E]=(0,o.useState)(!1),B=null==g?void 0:g.split(" "),M=(null==B?void 0:B.length)>20,O=L?g:(null==B?void 0:B.slice(0,20).join(" "))+(M?"...":""),R=null==v?void 0:v.split(" "),Y=(null==R?void 0:R.length)>10,F=z?v:(null==R?void 0:R.slice(0,10).join(" "))+(Y?"...":""),V=new Date(f),J="".concat(V.getDate(),"-").concat(V.getMonth()+1,"-").concat(V.getFullYear());(0,o.useEffect)(()=>{0!==N.length&&_(N.some(e=>e.userId==y.id))},[]);let H=async()=>{try{_(!0);let e={postId:t,userId:y.id};await h(e),S(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,y.id]})}catch(e){console.error(e)}},X=async()=>{if(C.trim())try{let e={postId:t,commentMessage:C,userName:null==y?void 0:y.name};k(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e,...t]}),await p(e),P("")}catch(e){console.error(e)}};return(0,s.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 w-full max-w-[40rem] mx-auto",children:(0,s.jsxs)(l.P.div,{className:"relative w-full bg-white rounded-lg overflow-hidden cursor-pointer p-4 sm:p-6",onMouseMove:e=>{let{left:t,top:a,width:s,height:l}=e.currentTarget.getBoundingClientRect();w({x:(e.clientX-t-s/2)/(s/2),y:(e.clientY-a-l/2)/(l/2)})},whileHover:{scale:1.03},transition:{type:"spring",stiffness:180,damping:12},children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("button",{onClick:()=>window.open((null==a?void 0:a.image)||"https://api.dicebear.com/7.x/initials/svg?seed=".concat(a),"_blank"),className:"focus:outline-none h-auto","aria-label":"Visit 's profile",children:(0,s.jsx)("img",{src:d.length>0?d:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(a),alt:"Profile",className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full object-cover hover:scale-110 transition-transform"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-gray-800 font-semibold text-xl sm:text-lg",children:a}),(0,s.jsx)("span",{className:"text-gray-500 text-lg sm:text-xs",children:J})]})]}),r&&(0,s.jsx)(l.P.img,{src:r,alt:"img",className:"w-full h-auto object-cover rounded-md",initial:{scale:1},whileHover:{scale:1.05},transition:{type:"spring",stiffness:150,damping:10}}),(0,s.jsxs)("div",{className:"p-4 sm:p-6",children:[v&&(0,s.jsxs)("h2",{className:"text-xl font-semibold text-black mb-2",children:[F,Y&&(0,s.jsx)(l.P.button,{whileTap:{scale:.9},className:"text-blue-400  ",onClick:()=>E(!z),children:z?"View Less":"View More"})]}),g&&(0,s.jsxs)("p",{className:"text-black text-base mt-2 font-medium",children:[O,M&&(0,s.jsx)(l.P.button,{whileTap:{scale:.9},className:"text-blue-400  ",onClick:()=>U(!L),children:L?"View Less":"View More"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 transition-colors ".concat(T&&"cursor-not-allowed opacity-50"),"aria-label":"Like post",disabled:T,onClick:H,children:[(0,s.jsx)(n.A,{size:30}),(0,s.jsxs)("span",{children:["Like ",N.length]})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Comment on post",onClick:()=>A(!I),children:[(0,s.jsx)(i.A,{size:30}),(0,s.jsx)("span",{children:"Comment"})]})]}),I&&(0,s.jsxs)("div",{className:"p-4 bg-white shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,s.jsx)("input",{type:"text",value:C,onChange:e=>P(e.target.value),className:"w-full p-2 outline-none text-black",placeholder:"Write a comment..."}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-3 py-2 text-sm hover:bg-blue-600 transition",onClick:X,children:"Submit"})]}),(0,s.jsx)(c,{comments:D})]})]})})};var j=a(2316),w=a(767),N=a(5683);let S=e=>{let{UserProfileImage:t}=e,{user:a}=(0,o.useContext)(b.c),{setDashboardData:n,setLoading:i,setLastFetchedDate:r,setHasMoreData:c}=(0,o.useContext)(G),[d,u]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),[p,v]=(0,o.useState)(""),[y,S]=(0,o.useState)(""),[D,k]=(0,o.useState)(""),[C,P]=(0,o.useState)(""),[I,A]=(0,o.useState)(null),[T,_]=(0,o.useState)(null),[L,U]=(0,o.useState)(!1),[z,E]=(0,o.useState)(!1),B=()=>u(!0),M=()=>{u(!1),S(""),v(""),A(null)},O=()=>{h(!1),k(""),P("")},R=async()=>{U(!0);let e=new FormData;e.append("type","Post"),e.append("type","Post"),e.append("title",y),e.append("description",p),e.append("userId",a.id),e.append("created_at",new Date().toISOString()),T&&e.append("image",T);try{var t,s,l,o,i;await g(e),M(),n([]);let a=(await x()).message.dashboardData;n(a);let d=(null===(t=a[a.length-1])||void 0===t?void 0:t.nominationData)?null===(l=a[a.length-1])||void 0===l?void 0:null===(s=l.nominationData)||void 0===s?void 0:s.verifiedAt:null===(i=a[a.length-1])||void 0===i?void 0:null===(o=i.postData)||void 0===o?void 0:o.created_at;r(d),a.length>0?c(!0):c(!1)}catch(e){throw new e.message}finally{U(!1)}},Y=async()=>{E(!0);let e=new FormData;e.append("Type","Poll"),e.append("image",""),e.append("title",D),e.append("description",C),e.append("userId",a.id),e.append("created_at",new Date().toISOString());try{var t,s,l,o,i;await f(e),O(),n([]);let a=(await x()).message.dashboardData;n(a);let d=(null===(t=a[a.length-1])||void 0===t?void 0:t.nominationData)?null===(l=a[a.length-1])||void 0===l?void 0:null===(s=l.nominationData)||void 0===s?void 0:s.verifiedAt:null===(i=a[a.length-1])||void 0===i?void 0:null===(o=i.postData)||void 0===o?void 0:o.created_at;r(d),a.length>0?c(!0):c(!1)}catch(e){throw new e.message}finally{E(!1)}};return(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 w-full max-w-[40rem] mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>window.open(t,"_blank"),children:(0,s.jsx)("img",{src:t,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"})}),(0,s.jsx)("input",{type:"text",placeholder:"Start a post",className:"w-full border rounded-full px-4 py-2 focus:outline-none cursor-pointer",onClick:B,readOnly:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4",children:[(0,s.jsxs)("button",{onClick:B,className:"flex items-center space-x-2 text-blue-500",children:[(0,s.jsx)(j.A,{size:20}),(0,s.jsx)("span",{children:"Media"})]}),(0,s.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 text-blue-500",children:[(0,s.jsx)(j.A,{size:20}),(0,s.jsx)("span",{children:"Poll"})]})]}),(0,s.jsx)(N.N,{children:d&&(0,s.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(l.P.div,{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},children:[(0,s.jsx)("button",{onClick:M,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-200 transition-all",children:(0,s.jsx)(w.A,{size:24})}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-center text-black",children:"Create Post"}),(0,s.jsx)("textarea",{value:y,onChange:e=>S(e.target.value),placeholder:"Title of You Post (option)",className:"w-full mt-4 p-2 border rounded-lg resize-none text-black"}),(0,s.jsx)("textarea",{value:p,onChange:e=>v(e.target.value),placeholder:"What do you want to talk about?",className:"w-full mt-4 p-2 border rounded-lg resize-none text-black"}),I&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("img",{src:I,alt:"Uploaded",className:"w-full rounded-lg max-h-40 object-cover"})}),(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer text-blue-500 mt-4",children:[(0,s.jsx)(j.A,{size:20}),(0,s.jsx)("span",{children:"Upload Image"}),(0,s.jsx)("input",{type:"file",className:"hidden",onChange:e=>{let t=e.target.files[0];t&&(A(URL.createObjectURL(t)),_(t))}})]}),(0,s.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,s.jsx)("button",{onClick:R,disabled:!y&&!p&&!I||L,className:"px-4 py-2 rounded-lg w-full ".concat((y||p||I)&&!L?"bg-blue-500 text-white":"bg-gray-500 text-white cursor-not-allowed"),children:"Post"}),(0,s.jsx)("button",{onClick:M,className:"bg-red-600 text-white px-4 py-2 rounded-lg w-full",children:"Cancel"})]})]})})}),(0,s.jsx)(N.N,{children:m&&(0,s.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(l.P.div,{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},children:[(0,s.jsx)("button",{onClick:O,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-200 transition-all",children:(0,s.jsx)(w.A,{size:24})}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-center text-black",children:"Create Polls and Surveys:"}),(0,s.jsx)("input",{type:"text",value:D,onChange:e=>k(e.target.value),className:"w-full p-2 mb-2 border border-gray-300 rounded text-black",placeholder:"Description"}),(0,s.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,s.jsx)("button",{onClick:Y,disabled:!D&&!C||z,className:"px-4 py-2 rounded-lg w-full ".concat((D||C)&&!z?"bg-blue-500 text-white":"bg-gray-500 text-white cursor-not-allowed"),children:"Post"}),(0,s.jsx)("button",{onClick:O,className:"bg-red-600 text-white px-4 py-2 rounded-lg w-full",children:"Cancel"})]})]})})})]})};var D=a(8803),k=a.n(D);function C(e){let{src:t="https://via.placeholder.com/150",alt:a="Profile",className:l="w-10 h-10"}=e;return(0,s.jsx)("div",{className:"overflow-hidden rounded-full bg-gray-300 ".concat(l),children:(0,s.jsx)("img",{src:t,alt:a,className:"w-full h-full object-cover"})})}var P=a(6184),I=a(7644);let A=I.Kq,T=I.bL,_=I.l9,L=I.UC;var U=a(6046);let z={"Star of the month":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745212967/uploads/ShoutoutCatagory/StarOfTheMonth.png","Team Player":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745211980/uploads/ShoutoutCatagory/TeamPlayer.png","Going Above & Beyond":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745212127/uploads/ShoutoutCatagory/GoingAboveAndBeyond.png","Knowledge Sharer":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745212408/uploads/ShoutoutCatagory/KnowledgeSharer.png","Customer Champion":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745212517/uploads/ShoutoutCatagory/CustomerChampion.png","Problem Solver":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213040/uploads/ShoutoutCatagory/ProblemSolver.png","Innovation & Ideas":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213156/uploads/ShoutoutCatagory/InnovationIdeas.png",Dependability:"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213384/uploads/ShoutoutCatagory/Dependability.png","Positive Attitude":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213585/uploads/ShoutoutCatagory/PositiveAttitude.png","Timely Delivery":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213510/uploads/ShoutoutCatagory/TimelyDelivery.png","Cross-Team Collaboration":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745213651/uploads/ShoutoutCatagory/CrossTeamCollaboration.png","Crisis Support":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745214068/uploads/ShoutoutCatagory/CrisiSupport.png","New Joiner Buddy":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745214129/uploads/ShoutoutCatagory/NewJoiningBuddy.png","Leadership in Action":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745214425/uploads/ShoutoutCatagory/LeaderShipInAction.png","Living the Values":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745214352/uploads/ShoutoutCatagory/LivingTheValues.png","Behind-the-Scenes Hero":"https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745214186/uploads/ShoutoutCatagory/mj2enke5ty8eumthnnki.png"};function E(e){let{UserProfileImage:t,UserName:a,Designation:l,achievements:o=[]}=e,n=(0,U.useRouter)(),i=Object.values(o.map(e=>{let[t,a,s]=e.split(" - ");return{name:t.trim(),category:a.trim(),date:s.trim()}}).reduce((e,t)=>{let a="".concat(t.name,"-").concat(t.category);return e[a]=e[a]||{...t,count:0},e[a].count+=1,e},{})),c=e=>"Star of the month"===e.name?z["Star of the month"]:z[e.category]||"/badges/default.png";return(0,s.jsx)(A,{children:(0,s.jsxs)(r.Z,{className:"w-full p-5 shadow-lg rounded-2xl bg-white",children:[(0,s.jsx)(k(),{id:"2760c9707ecf57cc",children:"@-webkit-keyframes shineEffect{0%{background-position:-100%center}100%{background-position:200%center}}@-moz-keyframes shineEffect{0%{background-position:-100%center}100%{background-position:200%center}}@-o-keyframes shineEffect{0%{background-position:-100%center}100%{background-position:200%center}}@keyframes shineEffect{0%{background-position:-100%center}100%{background-position:200%center}}.achievement-count{background:-webkit-linear-gradient(left,#ffd700 0%,#fff7cc 25%,#ffd700 50%,#fff7cc 75%,#ffd700 100%);background:-moz-linear-gradient(left,#ffd700 0%,#fff7cc 25%,#ffd700 50%,#fff7cc 75%,#ffd700 100%);background:-o-linear-gradient(left,#ffd700 0%,#fff7cc 25%,#ffd700 50%,#fff7cc 75%,#ffd700 100%);background:linear-gradient(90deg,#ffd700 0%,#fff7cc 25%,#ffd700 50%,#fff7cc 75%,#ffd700 100%);-webkit-background-size:200%auto;-moz-background-size:200%auto;-o-background-size:200%auto;background-size:200%auto;color:#000;text-shadow:0 0 2px rgba(255,255,255,.5);-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.achievement-count:hover{-webkit-animation:shineEffect 2s linear infinite;-moz-animation:shineEffect 2s linear infinite;-o-animation:shineEffect 2s linear infinite;animation:shineEffect 2s linear infinite;-webkit-box-shadow:0 0 10px#ffd700;-moz-box-shadow:0 0 10px#ffd700;box-shadow:0 0 10px#ffd700}"}),(0,s.jsxs)("div",{className:"jsx-2760c9707ecf57cc flex flex-col items-center text-center",children:[(0,s.jsx)(C,{src:t,className:"w-16 h-16 mb-3 border-4 border-gray-300"}),(0,s.jsx)("h2",{className:"jsx-2760c9707ecf57cc text-xl font-semibold text-black",children:a}),(0,s.jsx)("p",{className:"jsx-2760c9707ecf57cc mt-1 text-base text-gray-900 text-center",children:l})]}),i.length>0&&(0,s.jsxs)("div",{className:"jsx-2760c9707ecf57cc mt-6",children:[(0,s.jsx)("h3",{className:"jsx-2760c9707ecf57cc text-lg font-semibold mb-3 text-blue-600",children:"Achievements"}),(0,s.jsx)("div",{className:"jsx-2760c9707ecf57cc grid grid-cols-2 sm:grid-cols-4 gap-3",children:i.map((e,t)=>(0,s.jsxs)(T,{children:[(0,s.jsxs)(_,{className:"relative transition-transform hover:scale-150",children:[(0,s.jsx)("img",{src:c(e),alt:"".concat(e.name," badge"),className:"jsx-2760c9707ecf57cc w-12 h-12 object-contain"}),e.count>1&&(0,s.jsxs)("span",{className:"jsx-2760c9707ecf57cc achievement-count absolute -top-2 -right-2 text-xs rounded-full px-2 py-1 font-bold border border-yellow-400",children:["x",e.count]})]}),(0,s.jsx)(L,{className:"p-3 bg-gray-800 text-white rounded-lg shadow-md",children:(0,s.jsxs)("p",{className:"jsx-2760c9707ecf57cc text-xs mt-1",children:[e.name,"N/A"!==e.category?" - ".concat(e.category):"",e.count>1?" (\xd7".concat(e.count,")"):""]})})]},t))})]}),(0,s.jsx)("div",{className:"jsx-2760c9707ecf57cc mt-4 flex flex-wrap justify-center gap-2",children:(0,s.jsx)(P.$,{variant:"outline",onClick:()=>n.push("/profilepage"),children:"Profile"})})]})})}let B=e=>{let{PostTitle:t,PostUser:a,PostTotalYes:n,PostTotalNo:i,PostType:r,Postcreated_At:c,PostUserProfile:d}=e,{user:u}=(0,o.useContext)(b.c),m=new Date(c),x="".concat(m.getDate(),"-").concat(m.getMonth()+1,"-").concat(m.getFullYear()),[h,p]=(0,o.useState)([{label:"Yes",votes:0,voted:!1},{label:"No",votes:0,voted:!1}]),[g,f]=(0,o.useState)(n),[y,j]=(0,o.useState)(i),[w,N]=(0,o.useState)((null==g?void 0:g.length)||0),[S,D]=(0,o.useState)((null==y?void 0:y.length)||0),[k,C]=(0,o.useState)(((null==n?void 0:n.length)||0)+((null==i?void 0:i.length)||0));(0,o.useEffect)(()=>{if((null==i?void 0:i.length)>0||(null==n?void 0:n.length)>0){let e=n.some(e=>e.userId===u.id),t=i.some(e=>e.userId===u.id);p(a=>a.map(a=>"Yes"===a.label?{...a,voted:e}:{...a,voted:t}))}},[]);let P=async t=>{if(h[t].voted)return;p(e=>e.map((e,a)=>a===t?{...e,votes:1,voted:!0}:{...e,votes:0,voted:!1}));let a={userId:u.id};"No"===h[t].label?(j(e=>[...e,a]),D(e=>e+1),g.length>0&&g.some(e=>e.userId===u.id)&&(f(e=>e.filter(e=>e.userId!==u.id)),N(e=>e>0?e-1:0))):(f(e=>[...e,a]),N(e=>e+1),y.length>0&&y.some(e=>e.userId===u.id)&&(j(e=>e.filter(e=>e.userId!==u.id)),D(e=>e>0?e-1:0)));let s={userId:u.id,postId:e.PostId,voteType:0===t?"Yes":"No"};try{await v(s)}catch(e){console.error("Vote update failed: ",e)}};return(0,s.jsx)("div",{className:"bg-white text-black rounded-lg p-4 w-full max-w-[40rem] mx-auto shadow-lg border border-gray-300",children:(0,s.jsxs)(l.P.div,{className:"relative w-full bg-white rounded-lg overflow-hidden p-4 sm:p-6",whileHover:{scale:1.02},transition:{type:"spring",stiffness:180,damping:12},children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("img",{src:d||"https://api.dicebear.com/7.x/initials/svg?seed=".concat(a),alt:"Profile",className:"w-10 h-10 rounded-full object-cover border border-gray-400"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-gray-800 font-semibold text-base sm:text-lg",children:a}),(0,s.jsx)("span",{className:"text-black text-sm sm:text-xs",children:x})]})]}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-black mb-2",children:t}),(0,s.jsxs)("p",{className:"text-black text-base mb-2",children:["Total Yes: ",w]}),(0,s.jsxs)("p",{className:"text-black text-base mb-2",children:["Total No: ",S]}),(0,s.jsx)("div",{className:"space-y-3",children:h.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>P(t),children:[(0,s.jsx)("div",{className:"w-5 h-5 border border-gray-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.voted?"bg-blue-500":"bg-transparent")})}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[(0,s.jsx)("span",{children:e.label}),(0,s.jsx)("span",{children:(e.voted,"")})]}),(0,s.jsx)("div",{className:"w-full bg-gray-300 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(e.voted?"100%":"0%")}})})]})]},t))})]})})},M={initial:{y:300,opacity:0},animate:{y:-300,opacity:1,transition:{duration:6,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}},O={initial:{opacity:0,scale:.5},animate:{opacity:[0,1,0],scale:[.5,1.5,.5],transition:{duration:1.5,repeat:1/0}}},R=e=>{let{PostId:t,PostUser:a,PostImageUrl:r,PostLike:d,PostComment:u,PostType:m,PostTitle:x,PostDescription:v,Postcreated_At:g,PostUserDetailed:f}=e,{user:y}=(0,o.useContext)(b.c),[j,w]=(0,o.useState)(d),[N,S]=(0,o.useState)(u),[D,k]=(0,o.useState)(""),[C,P]=(0,o.useState)(!1),[I,A]=(0,o.useState)(!1),{userDOJ:T,userName:_}=f,[L,U]=(0,o.useState)("https://res.cloudinary.com/dnx8ycr6n/image/upload/v1744284255/uploads/ConstntImage/HappyBirthday.png"),[z,E]=(0,o.useState)("https://res.cloudinary.com/dnx8ycr6n/image/upload/v1744261082/uploads/ConstntImage/WorkAnnirversary.png"),B=new Date().getFullYear()-new Date(T).getFullYear(),[R,Y]=(0,o.useState)(["st","nd","rd","th","th","th","th","th","th","th"]);(0,o.useEffect)(()=>{0!==j.length&&A(j.some(e=>e.userId==y.id))},[]);let F=async()=>{try{A(!0);let e={postId:t,userId:y.id};await h(e),w(e=>[...e,y.id])}catch(e){console.error(e)}},V=async()=>{if(D.trim())try{let e={postId:t,commentMessage:D,userName:null==y?void 0:y.name};S(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e,...t]}),await p(e),k("")}catch(e){console.error(e)}};return(0,s.jsxs)("div",{className:"relative bg-white rounded-lg p-6 w-full max-w-[40rem] mx-auto shadow-xl overflow-hidden border-2 border-gray-200",children:[[...Array(6)].map((e,t)=>(0,s.jsx)(l.P.div,{className:"absolute top-".concat(10*t," left-").concat(t%2*20," text-red-400 text-6xl"),variants:M,initial:"initial",animate:"animate",children:"\uD83C\uDF88"},t)),(0,s.jsx)(l.P.div,{className:"absolute bottom-5 left-1/2 transform -translate-x-1/2 text-yellow-400 text-4xl",variants:O,initial:"initial",animate:"animate",children:"âœ¨"}),(0,s.jsx)(l.P.img,{src:"Anniversary"==m?z:L,alt:"Image",className:"w-full rounded-lg shadow-lg border-4 border-gray-300",initial:{scale:1},whileHover:{scale:1.1,rotate:3},transition:{type:"spring",stiffness:150,damping:10}}),(0,s.jsx)("h2",{className:"text-xl font-extrabold text-gray-900 text-center mt-4",children:"Anniversary"==m?"Congratulations On ".concat(B).concat(R[B-1]," ").concat(x,", ").concat(_):"".concat(x,", ").concat(_)}),(0,s.jsx)("p",{className:"text-black text-base text-center mt-2 font-medium",children:v}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 transition-colors ".concat(I&&"cursor-not-allowed opacity-50"),disabled:I,onClick:F,children:[(0,s.jsx)(n.A,{size:30}),(0,s.jsxs)("span",{children:["Like ",j.length]})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500",onClick:()=>P(!C),children:[(0,s.jsx)(i.A,{size:30}),(0,s.jsx)("span",{children:"Comment"})]})]}),C&&(0,s.jsxs)("div",{className:"p-4 bg-white shadow-md mt-4 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,s.jsx)("input",{type:"text",value:D,onChange:e=>k(e.target.value),className:"w-full p-2 outline-none text-black",placeholder:"Write a comment..."}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-3 py-2 text-sm hover:bg-blue-600 transition",onClick:V,children:"Submit"})]}),(0,s.jsx)(c,{comments:N})]})]})};var Y=a(7508);let F=e=>{let{PostId:t,PostLike:a,PostComment:r,PostType:d,PostDescription:u=null,Postcreated_At:m=null,NominatedUser:x=null,NominatedBy:v=null,PostShoutoutCatagory:g=null,PostImage:f=null,PostTitle:y=null}=e,{user:j}=(0,o.useContext)(b.c),[w,N]=(0,o.useState)(a),[S,D]=(0,o.useState)(r),[k,C]=(0,o.useState)(""),[P,I]=(0,o.useState)(!1),[A,T]=(0,o.useState)(!1),[_,L]=(0,o.useState)(!1),[U,z]=(0,o.useState)(""),E=new Date(m);"".concat(E.getDate(),"-").concat(E.getMonth()+1,"-").concat(E.getFullYear());let B=null==u?void 0:u.split(" "),M=(null==B?void 0:B.length)>20,O=_?u:(null==B?void 0:B.slice(0,20).join(" "))+(M?"...":"");(0,o.useEffect)(()=>{"Shoutout"==d?z("https://res.cloudinary.com/dnx8ycr6n/image/upload/v1744260852/uploads/ConstntImage/Shoutout.png"):z("https://res.cloudinary.com/dnx8ycr6n/image/upload/v1745083519/uploads/ConstntImage/NewJoining.png")},[d]),(0,o.useEffect)(()=>{0!==w.length&&T(w.some(e=>e.userId==j.id))},[]);let R=async()=>{try{T(!0);let e={postId:t,userId:j.id};await h(e),N(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,j.id]})}catch(e){console.error(e)}},F=async()=>{if(k.trim())try{let e={postId:t,commentMessage:k,userName:j.name};await p(e),D(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e,...t]}),C("")}catch(e){console.error(e)}};return(0,s.jsxs)(l.P.div,{className:"bg-white rounded-lg p-6 w-full max-w-[40rem] mx-auto shadow-lg border border-gray-300",whileHover:{scale:1.05},transition:{type:"spring",stiffness:160,damping:10},children:[(0,s.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:d&&(0,s.jsxs)(l.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},className:"ml-auto flex items-center bg-yellow-400 text-gray-900 px-3 py-1 rounded-full shadow-md",children:[(0,s.jsx)(Y.A,{size:18,className:"mr-1"})," ",d]})}),U&&(0,s.jsx)(l.P.img,{src:null!=f?f:U,alt:"img",className:"w-full h-auto object-cover rounded-md shadow-md",initial:{scale:1},whileHover:{scale:1.05},transition:{type:"spring",stiffness:150,damping:10}}),"Shoutout"===d?(0,s.jsx)("p",{className:"text-blue-600 text-center text-Xl font-extrabold mt-2",children:g}):null,"New Joining"===d?(0,s.jsx)("p",{className:"text-black text-xl justify-center text-center font-extrabold mt-2",children:y}):null,(0,s.jsxs)("div",{className:"p-4",children:[null!=u?(0,s.jsxs)("h2",{className:"New Joining"!=d?"text-base text-black":"text-xl font-medium text-black",children:[O," ",M&&(0,s.jsx)(l.P.button,{whileTap:{scale:.9},className:"text-blue-400  ",onClick:()=>L(!_),children:_?"View Less":"View More"})]}):null,"New Joining"!=d?(0,s.jsx)("p",{className:"Shoutout"==d?"text-black text-base font-extrabold mt-2":"text-black text-xl font-extrabold mt-2",children:"".concat(d," goes to ").concat(x," present by ").concat(v)}):null]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 transition-colors ".concat(A&&"cursor-not-allowed opacity-50"),disabled:A,onClick:R,children:[(0,s.jsx)(n.A,{size:30}),(0,s.jsxs)("span",{children:["Like ",w.length]})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500",onClick:()=>I(!P),children:[(0,s.jsx)(i.A,{size:30}),(0,s.jsx)("span",{children:"Comment"})]})]}),P&&(0,s.jsxs)("div",{className:"p-4 bg-white shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,s.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),className:"w-full p-2 outline-none text-black",placeholder:"Write a comment..."}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-3 py-2 text-sm hover:bg-blue-600 transition",onClick:F,children:"Submit"})]}),(0,s.jsx)(c,{comments:S})]})]})},V=e=>{let{PostId:t,PostImageUrl:a,PostLike:r,PostComment:d,PostTitle:u,PostDescription:m,Postcreated_At:x}=e,{user:v}=(0,o.useContext)(b.c),[g,f]=(0,o.useState)({x:0,y:0}),[y,j]=(0,o.useState)(r),[w,N]=(0,o.useState)(d),[S,D]=(0,o.useState)(""),[k,C]=(0,o.useState)(!1),[P,I]=(0,o.useState)(!1),[A,T]=(0,o.useState)(!1),_=null==m?void 0:m.split(" "),L=(null==_?void 0:_.length)>20,U=A?m:(null==_?void 0:_.slice(0,20).join(" "))+(L?"...":""),z=new Date(x);"".concat(z.getDate(),"-").concat(z.getMonth()+1,"-").concat(z.getFullYear()),(0,o.useEffect)(()=>{0!==y.length&&I(y.some(e=>e.userId==v.id))},[]);let E=async()=>{try{I(!0);let e={postId:t,userId:v.id};await h(e),j(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,v.id]})}catch(e){console.error(e)}},B=async()=>{if(S.trim())try{let e={postId:t,commentMessage:S,userName:null==v?void 0:v.name};N(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e,...t]}),await p(e),D("")}catch(e){console.error(e)}};return(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 w-full max-w-[40rem] mx-auto shadow-md",children:(0,s.jsxs)(l.P.div,{className:"relative w-full bg-white rounded-lg overflow-hidden cursor-pointer p-4 sm:p-6",onMouseMove:e=>{let{left:t,top:a,width:s,height:l}=e.currentTarget.getBoundingClientRect();f({x:(e.clientX-t-s/2)/(s/2),y:(e.clientY-a-l/2)/(l/2)})},whileHover:{scale:1.03},transition:{type:"spring",stiffness:180,damping:12},children:[a&&(0,s.jsx)(l.P.img,{src:a,alt:"img",className:"w-full h-auto object-cover rounded-md",initial:{scale:1},whileHover:{scale:1.05},transition:{type:"spring",stiffness:150,damping:10}}),(0,s.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-black mb-2",children:u}),(0,s.jsxs)("p",{className:"text-black text-base mt-2 font-medium",children:[U,L&&(0,s.jsx)(l.P.button,{whileTap:{scale:.9},className:"text-blue-400  ",onClick:()=>T(!A),children:A?"View Less":"View More"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 transition-colors ".concat(P&&"cursor-not-allowed opacity-50"),"aria-label":"Like post",disabled:P,onClick:E,children:[(0,s.jsx)(n.A,{size:30}),(0,s.jsxs)("span",{children:["Like ",y.length]})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Comment on post",onClick:()=>C(!k),children:[(0,s.jsx)(i.A,{size:30}),(0,s.jsx)("span",{children:"Comment"})]})]}),k&&(0,s.jsxs)("div",{className:"p-4 bg-white shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,s.jsx)("input",{type:"text",value:S,onChange:e=>D(e.target.value),className:"w-full p-2 outline-none text-black",placeholder:"Write a comment..."}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-3 py-2 text-sm hover:bg-blue-600 transition",onClick:B,children:"Submit"})]}),(0,s.jsx)(c,{comments:w})]})]})})};var J=a(7819);let H={hidden:{},visible:{transition:{staggerChildren:.1}}},X={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:80,damping:12}}};function W(e){let{shoutouts:t=[]}=e;return(0,s.jsxs)(l.P.div,{className:"w-full space-y-4",initial:"hidden",animate:"visible",variants:H,children:[(0,s.jsx)("div",{className:"flex items-center justify-between border-b px-2 pb-1",children:(0,s.jsx)("h2",{className:" font-bold text-blue-600",style:{fontSize:"18px"},children:"Top Shoutouts"})}),(0,s.jsx)("div",{className:"space-y-3",children:(null==t?void 0:t.length)>0?t.map((e,t)=>{var a,o,n,i,c,d,u,m,x,h,p,v,g,f;return(0,s.jsx)(l.P.div,{variants:X,children:(0,s.jsxs)(r.Z,{className:"flex items-center gap-4 p-4 border rounded-xl bg-white shadow-sm hover:shadow-md transition",children:[(0,s.jsx)("img",{src:(null===(i=e.find(e=>"Users"===e.name))||void 0===i?void 0:null===(n=i.value)||void 0===n?void 0:null===(o=n.find(e=>"Image"===e.name))||void 0===o?void 0:null===(a=o.value)||void 0===a?void 0:a.length)>0?null===(u=e.find(e=>"Users"===e.name))||void 0===u?void 0:null===(d=u.value)||void 0===d?void 0:null===(c=d.find(e=>"Image"===e.name))||void 0===c?void 0:c.value:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null===(h=e.find(e=>"Users"===e.name))||void 0===h?void 0:null===(x=h.value)||void 0===x?void 0:null===(m=x.find(e=>"Name"===e.name))||void 0===m?void 0:m.value),alt:e.name,className:"w-10 h-10 rounded-full object-cover border"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:null===(g=e.find(e=>"Users"===e.name))||void 0===g?void 0:null===(v=g.value)||void 0===v?void 0:null===(p=v.find(e=>"Name"===e.name))||void 0===p?void 0:p.value}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600 gap-1 mt-1",children:[(0,s.jsx)(J.A,{className:"w-4 h-4 text-amber-500"}),(0,s.jsxs)("span",{children:[null===(f=e.find(e=>"count"==e.name))||void 0===f?void 0:f.value," ","Shoutout",e.shoutoutCount>1?"s":""]})]})]}),(0,s.jsxs)("span",{className:"text-sm text-blue-600 font-bold",children:["#",t+1]})]})},t)}):(0,s.jsx)("p",{className:"text-base text-gray-500 text-center",children:"No data available"})})]})}let G=(0,o.createContext)();function Z(){var e,t;let{user:a}=(0,o.useContext)(b.c),[l,n]=(0,o.useState)([]),[i,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)(1),u=(0,o.useRef)(null),m=(0,o.useRef)(null),[h,p]=(0,o.useState)(null),[v,g]=(0,o.useState)(!0),[f,j]=(0,o.useState)([]),[w,N]=(0,o.useState)([]);(0,o.useEffect)(()=>{d(1),n([]),p(null),g(!0)},[]),(0,o.useEffect)(()=>{1===c&&(n([]),p(null),g(!0)),D()},[c]);let D=async()=>{if(!i&&v){r(!0);try{var e,t,a,s,l,o,c;let i=await x(h),r=i.message.dashboardData;if(console.log("Dashboard Data",r),i.message.currentUserAchievements.length>0&&j(i.message.currentUserAchievements),(null===(e=i.message)||void 0===e?void 0:e.topShoutout)&&N(null===(t=i.message)||void 0===t?void 0:t.topShoutout),r.length>0){n(e=>{let t=r.filter(t=>!e.some(e=>{var a,s;return(null===(a=e.postData)||void 0===a?void 0:a.id)===(null===(s=t.postData)||void 0===s?void 0:s.id)}));return[...e,...t]});let e=(null===(a=r[r.length-1])||void 0===a?void 0:a.nominationData)?null===(l=r[r.length-1])||void 0===l?void 0:null===(s=l.nominationData)||void 0===s?void 0:s.verifiedAt:null===(c=r[r.length-1])||void 0===c?void 0:null===(o=c.postData)||void 0===o?void 0:o.created_at;p(e)}else g(!1)}catch(e){console.error("API call failed:",e)}finally{r(!1)}}};return(0,o.useEffect)(()=>(u.current||(u.current=new IntersectionObserver(e=>{e[0].isIntersecting&&!i&&d(e=>e+1)})),m.current&&u.current.observe(m.current),()=>{m.current&&u.current.unobserve(m.current)}),[l,i]),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 w-full",children:[null!=a?(0,s.jsxs)("div",{className:"hidden [@media(min-width:1200px)]:flex w-1/5.5 p-4 bg-white shadow-md flex-col overflow-y-auto scrollbar-hide",children:[(0,s.jsx)(E,{UserProfileImage:(null==a?void 0:null===(e=a.image)||void 0===e?void 0:e.trim())?a.image:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null==a?void 0:a.name),UserName:(null==a?void 0:a.name)||"",Designation:(null==a?void 0:a.designation)||"",achievements:f}),(null==w?void 0:w.length)>0?(0,s.jsx)("div",{className:"pt-8",children:(0,s.jsx)(W,{shoutouts:w})}):null]}):null,null!=a?(0,s.jsxs)("div",{className:"w-full [@media(min-width:1300px)]:w-4/5 flex flex-col p-4 overflow-y-auto space-y-6 scrollbar-hide",children:["(",(0,s.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,s.jsx)(G.Provider,{value:{setDashboardData:n,setLoading:r,setLastFetchedDate:p,setHasMoreData:g},children:(0,s.jsx)(S,{UserProfileImage:(null==a?void 0:null===(t=a.image)||void 0===t?void 0:t.trim())?a.image:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null==a?void 0:a.name)})})}),")",i&&0==l.length?(0,s.jsx)("h1",{className:"text-black text-center text-3xl justify-center",children:"Loading..."}):(0,s.jsx)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:0==l.length?(0,s.jsx)("h1",{className:"text-black text-center text-3xl",children:"Loading.."}):l.map((e,t)=>{var a,o,n,i,r,c,d,u,x,h,p,v,g,f,b,j,w,N,S,D,k,C,P,I,A,T,_,L,U,z,E,M,O,Y,J,H,X,W,G,Z,K,$,q,Q,ee,et,ea,es,el,eo,en,ei,er,ec,ed,eu;return(0,s.jsx)("div",{ref:t===l.length-1?m:null,children:null!=e.postData&&(null===(a=e.postData)||void 0===a?void 0:a.type)==="Post"?(0,s.jsx)(y,{PostId:null===(o=e.postData)||void 0===o?void 0:o.id,PostUser:null===(n=e.userData)||void 0===n?void 0:n.userName,PostUserProfile:null===(i=e.userData)||void 0===i?void 0:i.profileImage,PostImageUrl:null===(r=e.postData)||void 0===r?void 0:r.image,PostLike:null===(c=e.postData)||void 0===c?void 0:c.postLikes,PostComment:null===(d=e.postData)||void 0===d?void 0:d.postComments,PostType:null===(u=e.postData)||void 0===u?void 0:u.type,PostTitle:null===(x=e.postData)||void 0===x?void 0:x.title,PostDescription:null===(h=e.postData)||void 0===h?void 0:h.description,Postcreated_At:null===(p=e.postData)||void 0===p?void 0:p.created_at}):null!=e.postData&&(null===(v=e.postData)||void 0===v?void 0:v.type)==="Poll"?(0,s.jsx)(B,{PostId:null===(g=e.postData)||void 0===g?void 0:g.id,PostUser:null==e?void 0:null===(f=e.userData)||void 0===f?void 0:f.userName,PostUserProfile:null==e?void 0:null===(b=e.userData)||void 0===b?void 0:b.profileImage,PostTotalYes:null==e?void 0:null===(j=e.postData)||void 0===j?void 0:j.totalYes,PostTotalNo:null==e?void 0:null===(w=e.postData)||void 0===w?void 0:w.totalNo,PostType:null===(N=e.postData)||void 0===N?void 0:N.type,PostTitle:e.postData.title,Postcreated_At:null===(S=e.postData)||void 0===S?void 0:S.created_at}):null!=e.postData&&((null===(D=e.postData)||void 0===D?void 0:D.type)==="Birthday"||(null===(k=e.postData)||void 0===k?void 0:k.type)==="Anniversary")?(0,s.jsx)(R,{PostId:null===(C=e.postData)||void 0===C?void 0:C.id,PostImageUrl:null===(P=e.postData)||void 0===P?void 0:P.image,PostLike:null===(I=e.postData)||void 0===I?void 0:I.postLikes,PostComment:null===(A=e.postData)||void 0===A?void 0:A.postComments,PostType:null===(T=e.postData)||void 0===T?void 0:T.type,PostTitle:null===(_=e.postData)||void 0===_?void 0:_.title,PostDescription:null===(L=e.postData)||void 0===L?void 0:L.description,Postcreated_At:null===(U=e.postData)||void 0===U?void 0:U.created_at,PostUserDetailed:null==e?void 0:e.userData}):null!=e.postData&&(null===(z=e.postData)||void 0===z?void 0:z.type)=="Company Event"?(0,s.jsx)(V,{PostId:null===(E=e.postData)||void 0===E?void 0:E.id,PostImageUrl:null==e?void 0:null===(M=e.postData)||void 0===M?void 0:M.image,PostLike:null===(O=e.postData)||void 0===O?void 0:O.postLikes,PostComment:null===(Y=e.postData)||void 0===Y?void 0:Y.postComments,PostType:null===(J=e.postData)||void 0===J?void 0:J.type,PostTitle:null===(H=e.postData)||void 0===H?void 0:H.title,PostDescription:null===(X=e.postData)||void 0===X?void 0:X.description,Postcreated_At:null===(W=e.postData)||void 0===W?void 0:W.created_at}):null!=e.postData&&(null===(G=e.postData)||void 0===G?void 0:G.type)=="New Joining"?(0,s.jsx)(F,{PostId:null===(Z=e.postData)||void 0===Z?void 0:Z.id,PostType:null===(K=e.postData)||void 0===K?void 0:K.type,PostDescription:null==e?void 0:null===($=e.postData)||void 0===$?void 0:$.description,PostLike:null===(q=e.postData)||void 0===q?void 0:q.postLikes,PostComment:null===(Q=e.postData)||void 0===Q?void 0:Q.postComments,PostTitle:null===(ee=e.postData)||void 0===ee?void 0:ee.title}):null!=e.nominationData&&((null===(et=e.nominationData)||void 0===et?void 0:et.nomination_Type)==="Star of the month"||(null===(ea=e.nominationData)||void 0===ea?void 0:ea.nomination_Type)==="Shoutout")?(0,s.jsx)(F,{PostId:null===(es=e.nominationData)||void 0===es?void 0:es.id,NominatedUser:null===(el=e.nominationData)||void 0===el?void 0:el.userId,NominatedBy:null===(eo=e.nominationData)||void 0===eo?void 0:eo.nominated_By,PostType:null===(en=e.nominationData)||void 0===en?void 0:en.nomination_Type,PostDescription:null===(ei=e.nominationData)||void 0===ei?void 0:ei.shoutoutReason,PostLike:null===(er=e.nominationData)||void 0===er?void 0:er.postLikes,PostComment:null===(ec=e.nominationData)||void 0===ec?void 0:ec.postComments,PostShoutoutCatagory:null===(ed=e.nominationData)||void 0===ed?void 0:ed.shoutoutCatagory,PostImage:null===(eu=e.nominationData)||void 0===eu?void 0:eu.image}):null},t)})})]}):null]})}},6184:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(5155);function l(e){let{children:t,variant:a="default",className:l="",...o}=e,n={default:"bg-blue-500 text-white hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-100",danger:"bg-red-500 text-white hover:bg-red-600",success:"bg-green-500 text-white hover:bg-green-600",disabled:"bg-gray-300 text-gray-500 cursor-not-allowed"};return(0,s.jsx)("button",{className:"".concat("px-4 py-2 rounded-md font-semibold focus:outline-none transition-all duration-200"," ").concat(n[a]||n.default," ").concat(l),disabled:"disabled"===a,...o,children:t})}a(2115)},3874:(e,t,a)=>{"use strict";a.d(t,{W:()=>o,Z:()=>l});var s=a(5155);function l(e){let{children:t,className:a="",shadow:l="md",padding:o="p-4",...n}=e;return(0,s.jsx)("div",{className:"border rounded-lg bg-white ".concat(o," ").concat({none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[l]," ").concat(a),...n,children:t})}a(2115);let o=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"mt-2 ".concat(a),children:t})}},3201:(e,t,a)=>{"use strict";a.d(t,{O:()=>i,c:()=>n});var s=a(5155),l=a(2115),o=a(6046);let n=(0,l.createContext)(),i=e=>{let{children:t}=e,[a,i]=(0,l.useState)(null),r=(0,o.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){localStorage.removeItem("user"),r.push("/login");return}try{let t=JSON.parse(atob(e.split(".")[1])),a=1e3*t.exp;if(Date.now()>a){localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/login");return}}catch(e){console.log("Invalid Token"),localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/login")}},[r]),(0,l.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e))},[]),(0,s.jsx)(n.Provider,{value:{user:a,login:e=>{i(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{r.replace("/login"),localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)}},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,255,864,441,517,358],()=>t(8436)),_N_E=e.O()}]);