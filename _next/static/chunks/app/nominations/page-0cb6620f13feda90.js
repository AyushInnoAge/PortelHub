(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{4187:(e,t,a)=>{Promise.resolve().then(a.bind(a,5503))},7508:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(7401).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},103:(e,t,a)=>{"use strict";a.d(t,{M:()=>i,l:()=>s});var l=a(2651),o=a(2818);let n=()=>localStorage.getItem("token"),s=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let a=n();var t=e?"".concat(o.env.NEXT_PUBLIC_API_URL,"user/fetch_my_employees?UserRole=Admin"):"".concat(o.env.NEXT_PUBLIC_API_URL,"user/fetch_my_employees");return await l.A.get(t,{headers:{Authorization:"Bearer ".concat(a)}})}catch(e){throw new e.message}},i=async e=>{try{let t=n();return await l.A.post("".concat(o.env.NEXT_PUBLIC_API_URL,"api/shoutout"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){throw new e.message}}},5503:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(5155),o=a(2115),n=a(3874),s=a(7108),i=a(3794),r=a(7508),c=a(7967),d=a(3201),u=a(103),m=a(2110);let h=e=>{let{UserRole:t}=e,{ratings:a,setRatings:n}=(0,o.useContext)(x),s=(e,t)=>{n(a=>({...a,[e]:t+1}))};return(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("table",{className:"table-auto w-full border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-black",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border px-4 py-2 text-left",children:"Key Parameters"}),(0,l.jsx)("th",{className:"border px-4 py-2 text-left",children:"".concat(t," Ratings")})]})}),(0,l.jsx)("tbody",{children:["Performance","Excellence","Innovation and Creativity","Leadership and Initiative","Teamwork and Collaboration","Customer Focus","Adaptability","Learning and Development","Timely"].map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-4 py-2 font-semibold text-black",children:e}),(0,l.jsxs)("td",{className:"border px-4 py-2",children:[[void 0,void 0,void 0,void 0,void 0].map((t,o)=>(0,l.jsx)("button",{onClick:()=>s(e,o),className:"text-2xl ".concat(o<(a[e]||0)?"text-yellow-500":"text-gray-400"),children:"â˜…"},o)),(0,l.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[a[e]||0,"/5"]})]})]},e))})]})})},x=(0,o.createContext)();function g(e){var t;let{AllEmployees:a,NominationHeading:g,ShoutoutRemaing:p,shoutoutCatagorys:v}=e,{user:y}=(0,o.useContext)(d.c),[b,f]=(0,o.useState)(null),[j,N]=(0,o.useState)(""),[S,w]=(0,o.useState)(""),[k,R]=(0,o.useState)(!1),[C,I]=(0,o.useState)(""),[_,P]=(0,o.useState)([]),[A,E]=(0,o.useState)(p),[T,O]=(0,o.useState)({}),[U,L]=(0,o.useState)("");(0,o.useEffect)(()=>{(null==y?void 0:y.userRole)!=3&&I("Shoutout")},[y]),(0,o.useEffect)(()=>{E(p)},[p]);let M=async()=>{try{var e;R(!0),((null==y?void 0:y.userRole)==1||(null==y?void 0:y.userRole)==2||(null==y?void 0:y.userRole)==3)&&"Star of the month"==C?(e={UserId:S,ManagerIds:[y.id],Nomination_Type:C},(null==y?void 0:y.userRole)==1?(e.AdminReason=j,e.AdminRating=Object.keys(T).length>0?T:void 0):(null==y?void 0:y.userRole)==2?(e.HrReason=j,e.HrRating=Object.keys(T).length>0?T:void 0):(e.ManagerReason=j,e.ManagerRating=Object.keys(T).length>0?T:void 0)):e={UserId:S,ManagerIds:[y.id],Nomination_Type:"Shoutout",ShoutoutReason:j,ShoutoutCatagory:U};let t=await (0,u.M)(e);f(null),w(""),N(""),O({}),L(""),t.data.success?m.oR.success("".concat(C," SuccessFully added")):"Star of the month"!=C||t.data.success||m.oR.error(t.data.message),"Shoutout"===C&&t.data.success&&E(e=>Math.max(0,e-1))}catch(e){console.error(e)}finally{R(!1)}};return(0,o.useEffect)(()=>{(null==y?void 0:y.userRole)==3&&P(a.filter(e=>e.teamLeaderId===y.id))},[y,a]),(0,l.jsxs)("div",{className:"flex flex-col items-center min-h-screen bg-gray-100 p-4 w-full bg-transparent",children:[(0,l.jsx)(m.N9,{position:"top-right",autoClose:3e3}),(0,l.jsxs)(n.Z,{className:"w-full max-w-5xl p-8 bg-white rounded-2xl shadow-2xl border mt-6",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:"Shoutout"==C&&(0,l.jsxs)(c.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},className:"ml-auto flex items-center bg-yellow-400 text-gray-900 px-3 py-1 rounded-full shadow-md",children:[(0,l.jsx)(r.A,{size:18,className:"mr-1"})," ","Shoutout remaining ".concat(A)]})}),(0,l.jsx)(c.P.h2,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-3xl font-bold text-center text-gray-800 flex items-center justify-center gap-3",children:g}),(0,l.jsxs)(n.W,{className:"space-y-6 mt-6",children:[(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700",children:"Nomination Category:"}),(null==y?void 0:y.userRole)==1||(null==y?void 0:y.userRole)==2||(null==y?void 0:y.userRole)==3?(0,l.jsxs)("select",{value:C,onChange:e=>I(e.target.value),className:"w-full border p-2 rounded bg-white text-black",children:[(0,l.jsx)("option",{value:"",children:"--Choose--"}),(0,l.jsx)("option",{value:"Shoutout",children:"Shoutout"}),(0,l.jsx)("option",{value:"Star of the month",children:"Star of the month"})]}):(0,l.jsx)(s.p,{placeholder:"Type a role...",className:"w-full mt-1 text-black",value:C,disabled:!0})]}),(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700",children:"Search Employee:"}),"Star of the month"===C&&(null==y?void 0:y.userRole)==3?(0,l.jsx)("div",{className:"border p-2 rounded bg-white relative text-black",children:(0,l.jsxs)("select",{onChange:e=>{let t=_.find(t=>t.id===e.target.value);f(t||{id:"",name:""}),w((null==t?void 0:t.id)||"")},value:S,className:"w-full bg-transparent focus:outline-none",children:[(0,l.jsx)("option",{value:"",children:"Select an option"}),_.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}):(0,l.jsx)("div",{className:"border p-2 rounded bg-white relative text-black",children:(0,l.jsxs)("select",{onChange:e=>{let t=a.find(t=>t.id===e.target.value);f(t||{id:"",name:""}),w((null==t?void 0:t.id)||"")},value:S,className:"w-full bg-transparent focus:outline-none",children:[(0,l.jsx)("option",{value:"",children:"Select an option"}),a.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})})]}),"Shoutout"===C?(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700 text-sm",children:"Shoutout Category:"}),(0,l.jsxs)("div",{className:"border p-2 rounded bg-white relative text-black",children:[(0,l.jsx)("div",{className:"mb-1 font-semibold",children:U||""}),(0,l.jsxs)("select",{onChange:e=>{L(e.target.value)},value:U,className:"w-full bg-white p-2 border rounded text-sm",children:[(0,l.jsx)("option",{value:"",children:"Select a category"}),null==v?void 0:v.map(e=>(0,l.jsx)("option",{value:e.catagory,children:"".concat(e.catagory,": ").concat(e.description)},e.id))]})]})]}):null,(null==y?void 0:y.userRole)==3?(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700",children:"Nominated By:"}),(0,l.jsx)(s.p,{placeholder:"Nominater...",className:"w-full mt-1 text-black",value:(null==y?void 0:y.name)?y.name:"",disabled:!0})]}):(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700",children:"Nominated By:"}),(0,l.jsx)(s.p,{placeholder:"Nominater Name..",className:"w-full mt-1 text-black",value:(null==y?void 0:y.name)?y.name:"",disabled:!0})]}),"Star of the month"===C?(0,l.jsx)(x.Provider,{value:{ratings:T,setRatings:O},children:(0,l.jsx)(h,{UserRole:(null==y?void 0:y.userRole)==1?"Admin":(null==y?void 0:y.userRole)==2?"HR":"Manager"})}):null,(0,l.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[(0,l.jsx)("label",{className:"block font-medium text-gray-700",children:"Reason for Nomination:"}),(0,l.jsx)(i.T,{placeholder:"Write your reason here...",className:"w-full mt-1 text-black",value:j,onChange:e=>N(e.target.value)})]}),(0,l.jsx)(c.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.8},children:"Shoutout"==C?(0,l.jsx)("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition  disabled:opacity-50 disabled:cursor-not-allowed",onClick:M,disabled:!S||!j||k||A<=0||"Shoutout"!=C||!U,children:"Submit"}):(0,l.jsx)("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition  disabled:opacity-50 disabled:cursor-not-allowed",onClick:M,disabled:!S||!j||k||"Star of the month"!=C||(null===(t=Object.keys(T))||void 0===t?void 0:t.length)!=9,children:"Submit"})})]})]})]})}function p(){let[e,t]=(0,o.useState)([]),[a,n]=(0,o.useState)(0),[s,i]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{let e=await (0,u.l)();200===e.status?(t(e.data.employeeData),n(e.data.shoutoutRemaing),i(e.data.shoutoutCatagorys)):console.error("Error fetching employees:",e.statusText)})()},[]),(0,l.jsx)("div",{className:"flex flex-col items-center min-h-screen bg-gray-100 p-4 w-full bg-transparent",children:(0,l.jsx)(g,{AllEmployees:e,NominationHeading:"Recognize an Employee",ShoutoutRemaing:a,shoutoutCatagorys:s})})}},3874:(e,t,a)=>{"use strict";a.d(t,{W:()=>n,Z:()=>o});var l=a(5155);function o(e){let{children:t,className:a="",shadow:o="md",padding:n="p-4",...s}=e;return(0,l.jsx)("div",{className:"border rounded-lg bg-white ".concat(n," ").concat({none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[o]," ").concat(a),...s,children:t})}a(2115);let n=e=>{let{children:t,className:a=""}=e;return(0,l.jsx)("div",{className:"mt-2 ".concat(a),children:t})}},7108:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var l=a(5155);function o(e){let{className:t,...a}=e;return(0,l.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(t),...a})}},3794:(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var l=a(5155);function o(e){let{className:t,...a}=e;return(0,l.jsx)("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(t),rows:"4",...a})}},3201:(e,t,a)=>{"use strict";a.d(t,{O:()=>i,c:()=>s});var l=a(5155),o=a(2115),n=a(6046);let s=(0,o.createContext)(),i=e=>{let{children:t}=e,[a,i]=(0,o.useState)(null),r=(0,n.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){localStorage.removeItem("user"),r.push("/login");return}try{let t=JSON.parse(atob(e.split(".")[1])),a=1e3*t.exp;if(Date.now()>a){localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/login");return}}catch(e){console.log("Invalid Token"),localStorage.removeItem("token"),localStorage.removeItem("user"),r.push("/login")}},[r]),(0,o.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e))},[]),(0,l.jsx)(s.Provider,{value:{user:a,login:e=>{i(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{r.replace("/login"),localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)}},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[829,651,255,441,517,358],()=>t(4187)),_N_E=e.O()}]);