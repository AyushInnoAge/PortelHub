(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{41:(e,t,r)=>{Promise.resolve().then(r.bind(r,9319))},6046:(e,t,r)=>{"use strict";var u=r(6658);r.o(u,"usePathname")&&r.d(t,{usePathname:function(){return u.usePathname}}),r.o(u,"useRouter")&&r.d(t,{useRouter:function(){return u.useRouter}}),r.o(u,"useSearchParams")&&r.d(t,{useSearchParams:function(){return u.useSearchParams}})},5353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let u=r(2115);function o(e,t){let r=(0,u.useRef)(()=>{}),o=(0,u.useRef)(()=>{});return(0,u.useMemo)(()=>e&&t?u=>{null===u?(r.current(),o.current()):(r.current=n(e,u),o.current=n(t,u))}:e||t,[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var u=r(5155);r(5565);var o=r(3201),n=r(2115),l=r(6046);function s(){let{user:e}=(0,n.useContext)(o.c),t=(0,l.useRouter)();return(0,n.useEffect)(()=>{if(e){t.push("/dashboard");return}t.push("/login")},[e]),(0,u.jsx)("div",{className:"grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]"})}},3201:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,c:()=>l});var u=r(5155),o=r(2115),n=r(6046);let l=(0,o.createContext)(),s=e=>{let{children:t}=e,[r,s]=(0,o.useState)(null),a=(0,n.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){localStorage.removeItem("user"),a.push("/login");return}try{let t=JSON.parse(atob(e.split(".")[1])),r=1e3*t.exp;if(Date.now()>r){localStorage.removeItem("token"),localStorage.removeItem("user"),a.push("/login");return}}catch(e){console.log("Invalid Token"),localStorage.removeItem("token"),localStorage.removeItem("user"),a.push("/login")}},[a]),(0,o.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]),(0,u.jsx)(l.Provider,{value:{user:r,login:e=>{s(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{a.replace("/login"),localStorage.removeItem("token"),localStorage.removeItem("user"),s(null)}},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,441,517,358],()=>t(41)),_N_E=e.O()}]);