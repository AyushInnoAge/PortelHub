(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{2792:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var n=t(5155),s=t(2115),l=t(8173),a=t.n(l),i=t(5565);t(4727);var o=t(1536),c=t(1589),d=t(648),u=t(3201),m=t(6046);function v(){let{user:e,logout:r}=(0,s.useContext)(u.c),[t,l]=(0,s.useState)(null),[v,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),j=(0,m.usePathname)(),[b,g]=(0,s.useState)(j),x=(0,m.useRouter)(),N=e=>{g(e),x.push(e)},y=e=>{l(t===e?null:e)},k=()=>{f(!p)};return(0,s.useEffect)(()=>{let e=e=>{e.target.closest(".nav-item")||e.target.closest(".profile-container")||(l(null),h(!1))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target.closest(".sidebar")||e.target.closest(".menu-btn")||f(!1)};return p?document.addEventListener("click",e):document.removeEventListener("click",e),()=>{document.removeEventListener("click",e)}},[p]),(0,n.jsxs)("header",{children:[(0,n.jsx)("nav",{className:"navbar",children:(0,n.jsxs)("div",{className:"navbar-container",children:[(0,n.jsx)("button",{className:"menu-btn",onClick:k,children:p?(0,n.jsx)(o.QCr,{}):(0,n.jsx)(o.OXb,{})}),(0,n.jsxs)("div",{className:"logo-container",children:[(0,n.jsx)(i.default,{src:"/logo.svg",alt:"Logo",width:40,height:40}),(0,n.jsx)("span",{className:"brand-name",children:"InnoHub"})]}),(0,n.jsxs)("div",{className:"nav-links ".concat(p?"hide":"","    "),children:[(0,n.jsx)(a(),{href:"/dashboard",className:"nav-link ".concat("/dashboard"===b?"active":""),onClick:()=>N("/dashboard"),children:"Dashboard"}),(0,n.jsx)("div",{className:"nav-item",children:(0,n.jsx)("div",{className:"dropdown1",children:(0,n.jsx)("button",{className:"nav-link ".concat("/nominations"===b?"active":""),onClick:()=>{y("awards"),N("/nominations")},children:"Awards"})})}),(0,n.jsx)("div",{className:"nav-item",children:(0,n.jsx)("div",{className:"dropdown1",children:(0,n.jsx)("button",{className:"nav-link ".concat("/funactivity"===b?"active":""),onClick:()=>{N("/funactivity")},children:"Fun & Social Activities"})})}),(0,n.jsx)("div",{className:"nav-item",children:(null==e?void 0:e.userRole)&&(1===e.userRole||2===e.userRole)&&(0,n.jsxs)("div",{className:"nav-item",children:[(0,n.jsxs)("div",{className:"dropdown1",children:[(0,n.jsx)("button",{className:"nav-link dropdown-btn",onClick:()=>y("Admin"),children:"Admin"}),(0,n.jsx)(o.Vr3,{size:12,onClick:()=>y("Admin")})]}),"Admin"===t&&(0,n.jsxs)("div",{className:"dropdown-content lower-dropdown",children:[(0,n.jsx)(a(),{href:"/approval",className:"dropdown-item",children:1===e.userRole?"Approval":"Review"}),(0,n.jsx)(a(),{href:"/allemployees",className:"dropdown-item",children:"All Employee"})]})]})})]}),(0,n.jsx)("div",{className:"right-container",children:(0,n.jsxs)("div",{className:"profile-container",children:[(0,n.jsxs)("button",{className:"profile-btn",onClick:()=>{h(!v)},children:[(0,n.jsx)("img",{src:(null==e?void 0:e.image.length)>0?e.image:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null==e?void 0:e.name),alt:"User",className:"profile-pic",width:32,height:32}),(0,n.jsx)("span",{className:"profile-text",children:null==e?void 0:e.name})]}),v&&(0,n.jsxs)("div",{className:"profile-dropdown",children:[(0,n.jsx)(a(),{href:"/profilepage",className:"dropdown-item",children:"Profile"}),(0,n.jsx)(a(),{href:"/login",onClick:r,className:"dropdown-item",children:"Logout"})]})]})})]})}),p&&(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsx)("div",{className:"sidebar-header",children:(0,n.jsx)(i.default,{src:"/logo.svg",alt:"Logo",width:120,height:40})}),(0,n.jsxs)("div",{className:"sidebar-menu",children:[(0,n.jsxs)(a(),{href:"/dashboard",className:"sidebar-link",onClick:k,children:[(0,n.jsx)(o.x7F,{})," Dashboard"]}),(0,n.jsxs)(a(),{href:"/nominations",className:"sidebar-link",onClick:k,children:[(0,n.jsx)(o.SBv,{}),"Awards"]}),(0,n.jsxs)(a(),{href:"/funactivity",className:"sidebar-link",onClick:k,children:[(0,n.jsx)(d.ISr,{}),"Fun And Social Activities"]}),(null==e?void 0:e.userRole)&&(1===e.userRole||2===e.userRole)&&(0,n.jsx)("div",{className:"sidebar-section",children:" Admin"}),(null==e?void 0:e.userRole)&&(1===e.userRole||2===e.userRole)&&(0,n.jsxs)(a(),{href:"/approval",className:"sidebar-link",onClick:k,children:[(0,n.jsx)(d.Qqj,{}),1===e.userRole?"Approval":"Review"]}),(null==e?void 0:e.userRole)&&(1===e.userRole||2===e.userRole)&&(0,n.jsxs)(a(),{href:"/allemployees",className:"sidebar-link",onClick:k,children:[(0,n.jsx)(c.v5n,{}),"All Employees"]})]})]})]})}},3201:(e,r,t)=>{"use strict";t.d(r,{O:()=>i,c:()=>a});var n=t(5155),s=t(2115),l=t(6046);let a=(0,s.createContext)(),i=e=>{let{children:r}=e,[t,i]=(0,s.useState)(null),o=(0,l.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){localStorage.removeItem("user"),o.push("/login");return}try{let r=JSON.parse(atob(e.split(".")[1])),t=1e3*r.exp;if(Date.now()>t){localStorage.removeItem("token"),localStorage.removeItem("user"),o.push("/login");return}}catch(e){console.log("Invalid Token"),localStorage.removeItem("token"),localStorage.removeItem("user"),o.push("/login")}},[o]),(0,s.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e))},[]),(0,n.jsx)(a.Provider,{value:{user:t,login:e=>{i(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{o.replace("/login"),localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)}},children:r})}},4727:()=>{},3435:(e,r,t)=>{"use strict";t.d(r,{k5:()=>d});var n=t(2115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(s),a=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){var n,s;n=r,s=t[r],(n=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>n.createElement(u,i({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>n.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:s,size:l,title:o}=e,d=function(e,r){if(null==e)return{};var t,n,s=function(e,r){if(null==e)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,a),u=l||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>r(e)):r(s)}}}]);